--- libtransmission/fdlimit.c.orig	2012-05-19 15:51:10.000000000 +0200
+++ libtransmission/fdlimit.c	2012-05-21 23:40:29.000000000 +0200
@@ -678,7 +678,7 @@
 
     if( gFd->peerCount < session->peerLimit )
         if(( s = socket( domain, type, 0 )) < 0 )
-            if( sockerrno != EAFNOSUPPORT )
+            if( sockerrno != EPROTONOSUPPORT )
                 tr_err( _( "Couldn't create socket: %s" ), tr_strerror( sockerrno ) );
 
     if( s > -1 )
